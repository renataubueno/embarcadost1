<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>HellfireOS v2.0: sys/sync/semaphore.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">HellfireOS v2.0
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_a408b6d3a4a484720bc3ecfeac8947e3.html">sys</a></li><li class="navelem"><a class="el" href="dir_07d47c56c988673e700bd68d35c9737b.html">sync</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">semaphore.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aa4998a7405044ad6ab21a0f5bc2fc3ed"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="semaphore_8c.html#aa4998a7405044ad6ab21a0f5bc2fc3ed">hf_seminit</a> (<a class="el" href="semaphore_8h.html#aa0fc8fc5f961483b50e562e330cb1087">sem_t</a> *s, int32_t value)</td></tr>
<tr class="memdesc:aa4998a7405044ad6ab21a0f5bc2fc3ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes a semaphore and defines its initial value.  <a href="#aa4998a7405044ad6ab21a0f5bc2fc3ed">More...</a><br /></td></tr>
<tr class="separator:aa4998a7405044ad6ab21a0f5bc2fc3ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad57efd8da531446fb91c3ddc81ae51b2"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="semaphore_8c.html#ad57efd8da531446fb91c3ddc81ae51b2">hf_semdestroy</a> (<a class="el" href="semaphore_8h.html#aa0fc8fc5f961483b50e562e330cb1087">sem_t</a> *s)</td></tr>
<tr class="memdesc:ad57efd8da531446fb91c3ddc81ae51b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroys a semaphore.  <a href="#ad57efd8da531446fb91c3ddc81ae51b2">More...</a><br /></td></tr>
<tr class="separator:ad57efd8da531446fb91c3ddc81ae51b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a506f7fc6a37ffa812de18bcf332b0b58"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="semaphore_8c.html#a506f7fc6a37ffa812de18bcf332b0b58">hf_semwait</a> (<a class="el" href="semaphore_8h.html#aa0fc8fc5f961483b50e562e330cb1087">sem_t</a> *s)</td></tr>
<tr class="memdesc:a506f7fc6a37ffa812de18bcf332b0b58"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait on a semaphore.  <a href="#a506f7fc6a37ffa812de18bcf332b0b58">More...</a><br /></td></tr>
<tr class="separator:a506f7fc6a37ffa812de18bcf332b0b58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af596c894e7d3580a8d882abb0cd41e08"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="semaphore_8c.html#af596c894e7d3580a8d882abb0cd41e08">hf_sempost</a> (<a class="el" href="semaphore_8h.html#aa0fc8fc5f961483b50e562e330cb1087">sem_t</a> *s)</td></tr>
<tr class="memdesc:af596c894e7d3580a8d882abb0cd41e08"><td class="mdescLeft">&#160;</td><td class="mdescRight">Signal a semaphore.  <a href="#af596c894e7d3580a8d882abb0cd41e08">More...</a><br /></td></tr>
<tr class="separator:af596c894e7d3580a8d882abb0cd41e08"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><dl class="section author"><dt>Author</dt><dd>Sergio Johann Filho </dd></dl>
<dl class="section date"><dt>Date</dt><dd>February 2016</dd></dl>
<h1><a class="anchor" id="LICENSE"></a>
LICENSE</h1>
<p>This source code is licensed under the GNU General Public License, Version 2. See the file 'doc/license/gpl-2.0.txt' for more details.</p>
<h1><a class="anchor" id="DESCRIPTION"></a>
DESCRIPTION</h1>
<p>Semaphore synchronization primitives. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="ad57efd8da531446fb91c3ddc81ae51b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad57efd8da531446fb91c3ddc81ae51b2">&#9670;&nbsp;</a></span>hf_semdestroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t hf_semdestroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="semaphore_8h.html#aa0fc8fc5f961483b50e562e330cb1087">sem_t</a> *&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroys a semaphore. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>is a pointer to a semaphore.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ERR_OK on success and ERR_ERROR if the semaphore could not be removed from memory. </dd></dl>

</div>
</div>
<a id="aa4998a7405044ad6ab21a0f5bc2fc3ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4998a7405044ad6ab21a0f5bc2fc3ed">&#9670;&nbsp;</a></span>hf_seminit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t hf_seminit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="semaphore_8h.html#aa0fc8fc5f961483b50e562e330cb1087">sem_t</a> *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes a semaphore and defines its initial value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>is a pointer to a semaphore. </td></tr>
    <tr><td class="paramname">value</td><td>is the semaphore initial value.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ERR_OK on success and ERR_ERROR if the semaphore could not be allocated in memory or its initial value is less than zero. </dd></dl>

</div>
</div>
<a id="af596c894e7d3580a8d882abb0cd41e08"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af596c894e7d3580a8d882abb0cd41e08">&#9670;&nbsp;</a></span>hf_sempost()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hf_sempost </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="semaphore_8h.html#aa0fc8fc5f961483b50e562e330cb1087">sem_t</a> *&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Signal a semaphore. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>is a pointer to a semaphore.</td></tr>
  </table>
  </dd>
</dl>
<p>Implements the atomic V() operation. The semaphore count is incremented and the task from the head of the semaphore queue is unblocked if the count is less than or equal to zero. </p>

</div>
</div>
<a id="a506f7fc6a37ffa812de18bcf332b0b58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a506f7fc6a37ffa812de18bcf332b0b58">&#9670;&nbsp;</a></span>hf_semwait()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hf_semwait </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="semaphore_8h.html#aa0fc8fc5f961483b50e562e330cb1087">sem_t</a> *&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wait on a semaphore. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>is a pointer to a semaphore.</td></tr>
  </table>
  </dd>
</dl>
<p>Implements the atomic P() operation. The semaphore count is decremented and calling task is blocked and queued on the semaphore if the count reaches a negative value. If not, the task continues its execution. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Oct 24 2018 14:44:13 for HellfireOS v2.0 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
